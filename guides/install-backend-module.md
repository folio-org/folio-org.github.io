---
layout: page
title: Install a new back-end module to reference environments
permalink: /guides/install-backend-module/
menuInclude: no
menuTopTitle: Guides
---

## Introduction

When the initial development of a new back-end (server-side) module is [established](/guidelines/create-new-repo/), and snapshot artifacts are being reliably generated by the continuous integration, then it is able to be added to the folio-snapshot and folio-testing [reference environments](/guides/automation/#reference-environments) (and hence to the relevant virtual machine VMs).

There is a separate procedure to [install a new front-end module](/guides/install-frontend-module/).

(After the new module has been operating in snapshot and testing environments, and an initial release is ready to be made, then instead follow the [release procedures](/guidelines/release-procedures/#add-to-platforms).)

## Avoid typical mistakes

Before proceeding, ensure that the backend module does not make some of the typical mistakes that cause disruption.

Note that this is not an exhaustive list.

* The port numbers are matching -- the same in ModuleDescriptor, Dockerfile, and in program code and configuration.
* The module version number (e.g. in Maven POM) is a semantic version number and snapshot designator, i.e. in mainline branch it should be `x.y.z-SNAPSHOT`. Avoid common mistakes like `x.y-SNAPSHOT` or `x.y.z` with no appended `-SNAPSHOT`.
* Other ...

## Verify MD and required interfaces

Ensure that this new module's [ModuleDescriptor](/guides/module-descriptor/) is deployed and that any required interfaces are available.

For example, consider the `mod-notes` module.
Obtain its MD from the registry and extract the "requires" section:

```
curl -s -S -w'\n' \
  'http://folio-registry.aws.indexdata.com/_/proxy/modules?filter=mod-notes&latest=1&full=true' \
  | jq '.[].requires'
```

That shows that it requires various interfaces, including "`users 15.1`" and "`configuration 2.0`".

Now ensure that each needed interface version is available.
One method is to visit the [https://folio-snapshot.dev.folio.org/settings/about](https://folio-snapshot.dev.folio.org/settings/about) page.

## Ensure LaunchDescriptor

Ensure that this new module's [ModuleDescriptor](/guides/module-descriptor/) includes the Docker-based [LaunchDescriptor](/guides/module-descriptor/#launchdescriptor-properties).

Its properties will specify the memory allocation, whether this module utilises a database, and can document other environment variables, etc.

## Prepare special requirements

If there are special requirements beyond those declared in the default LaunchDescriptor, then document those in the module README.

Remember that there are other systems operators, as well as FOLIO DevOps, that need to know how to install the module.

Also prepare beforehand if there are special requirements for FOLIO infrastructure, additional to what is already provided.
Add Jira tickets (as described below) to completely explain the services that the new module requires.
Do not expect us to know.
Allow sufficient time to establish these.

## Ensure recent local VM

Ensure that the module will operate with a **recent** local Vagrant VM.

Follow the guide to verify [Deploy a module](/tutorials/folio-vm/04-local-development/#deploy-a-module).

That procedure will verify that the most recent published module is ready to be installed in the reference environments.

## Request add new module

Before proceeding, verify that the module is ready to be added, including the above-mentioned steps.

Prepare the Jira ticket to guide the process, and request that the new backend module be enabled for the snapshot and testing reference environments.

If there are [special requirements](#document-special-requirements), then provide a link to that section of the module README.

Clarify if this module needs to be included in the "core" set of modules.
Normally modules are only added to the "complete" set.

Specify "Development Team: FOLIO DevOps" and the pseudo-sprint "DevOps Requests".
Do not assign it. Our team will prioritize and schedule.

**Note:** Plan for plenty of time for this phase. Our team will already have a full Sprint.
So it will likely be the next Sprint.

The DevOps team will configure the module and conduct various configuration tests.

## Verify deployment

After merge, await the scheduled build of the folio-snapshot and folio-testing [reference environments](/guides/automation/#reference-environments).

Visit the [Software versions](https://folio-snapshot.dev.folio.org/settings/about) page of each to verify that the new module is present.

<div class="folio-spacer-content"></div>

